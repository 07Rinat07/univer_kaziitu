<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <div id="app"></div>
 
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
 
    <script type="text/babel" data-type="module">
    import React from "https://esm.sh/react@19?dev";
    import ReactDOM from "https://esm.sh/react-dom@19/client?dev";
 
    const propsValues = {
        title: "Языки программирования",
        items: [
                "JavaScript", 
                "C++", 
                "TypeScript", 
                "Java", 
                "C#", 
                "Python"
        ]
    };
                 
    class Item extends React.Component {
        render() {
            return <li>{this.props.name}</li>;
        }
    }
             
    class SearchPlugin extends React.Component{
                 
        constructor(props){
            super(props);
        }
                 
        onTextChanged= (e) => {
            const text = e.target.value.trim();   // удаляем пробелы
            this.props.filter(text); // передаем введенный текст в родительский компонент
        }
                 
        render() {
            return <input placeholder="Поиск" onChange={this.onTextChanged} />;
        }
    }
                     
    class ItemsList extends React.Component {
        constructor(props){
            super(props);
            this.state = { items: this.props.data.items};
        }
                 
        filterList = (text)=> {
            const filteredList = this.props.data.items.filter((item) =>
                item.toLowerCase().search(text.toLowerCase())!== -1
            ); 
            this.setState({items: filteredList});
        }
                 
        render() {
            return(
                <div>         
                    <h2>{this.props.data.title}</h2>
                    <SearchPlugin filter={this.filterList} />
                    <ul>
                        {
                            this.state.items.map(function(item){
                                return <Item key={item} name={item} />
                            })
                        }
                    </ul>
                </div>);
        }
    }
             
    ReactDOM.createRoot(
        document.getElementById("app")
    )
    .render(
        <ItemsList data={propsValues} />
    );
    </script>
</body>
</html>